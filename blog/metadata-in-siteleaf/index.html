



<!DOCTYPE HTML>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="description" content="In Siteleaf, metadata is pure key/value data attached to a site, page, or post. It provides a way to interact with templates beyond the basic usage of injecting title or body copy. Metadata can be used to set inline CSS values or specify the number of posts on a given page—the uses are endless. I...">
  <meta property='st:title' content='Tutorial: Metadata in Siteleaf' />
  <meta name="twitter:widgets:link-color" content="#0091e5">

  
    <title>Tutorial: Metadata in Siteleaf</title>
  

  <link href="//cdn.symbolset.com/fe53f0eec3a73760941acb609672ebdd0840fda7/symbolset.css" rel="stylesheet">
  <link rel="stylesheet" href="/styles/css/style.css">
  <link rel="icon shortcut" href="/images/favicon.ico">
  
  <script type="text/javascript" src="//use.typekit.net/tti2qoh.js"></script>
  <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
</head>
<body>
  <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-1666437-33', 'siteleaf.com');
    
    ga('send', 'pageview');
  </script>

  
    <a class="v2Teaser" href="http://v2.siteleaf.com">We’re working on great updates to Siteleaf &rarr;</a>
  
  <section class="layer main">
      <header>
        <h1 class="logo">
          <a href="/">Siteleaf</a>
        </h1>
        <span class="ss-rows main-nav-toggle right">Menu</span>
        <nav>
          <ul class="main-nav">
            
              
            
              
                <li class="main-nav-item">
                  <a href="/plans">Plans</a>
                </li>
              
            
              
                <li class="main-nav-item">
                  <a href="/blog">Blog</a>
                </li>
              
            
              
                <li class="main-nav-item">
                  <a href="/gallery">Gallery</a>
                </li>
              
            
              
                <li class="main-nav-item">
                  <a href="/themes">Themes</a>
                </li>
              
            
              
            
              
            
              
            
              
            
            <li class="main-nav-item">
              <a href="https://manage.siteleaf.com">Log in</a>
            </li>
            <li class="main-nav-item get-started-nav-item">
              <a href="https://manage.siteleaf.com/signup" class="get-started-btn">Sign up</a>
            </li>
          </ul>
        </nav>
      </header>

      
  </section>

  
  <section class="layer blog">
    
      
      <article>
  
  <figure>
    <a href="/blog/metadata-in-siteleaf"><img src="/assets/metadata-in-siteleaf-ui.png" alt="Tutorial: Metadata in Siteleaf" /></a>
  </figure>
  
  <h2 class="title">
    
      Tutorial: Metadata in Siteleaf
    
  </h2>
  <header class="blog-byline">
  
    <h6 class="blog-tag"><a href="/blog/tags/tutorial">tutorial</a></h6>
  
    <h6 class="blog-tag"><a href="/blog/tags/liquid">liquid</a></h6>
  
    <time datetime="2013-07-07">Jul 07, 2013</time>
     by Jonnie Hallman
  </header>
  
    <p>In <a href="http://siteleaf.com">Siteleaf</a>, metadata is pure key/value data attached to a site, page, or post. It provides a way to interact with templates beyond the basic usage of injecting title or body copy. Metadata can be used to set inline CSS values or specify the number of posts on a given page—the uses are endless. It’s also very flexible, down to a per-entity level. A post could have a completely unique set of metadata compared to that of its siblings. Let’s look at a few examples.</p>

<h3>Page-specific color</h3>

<p>For my <a href="http://destroytoday.com">personal website</a>, I wanted each page to reflect its content. I accomplished this in the previous design through custom color per-page in the ‘Work’ section. All posts, however, looked the same. This time around, since I’m already writing more than ever, I knew posts would benefit from the same custom treatment, but not to the extent of pages. I decided on a single highlight color for each post, extracted from either its hero image or the topic of the post.</p>

<p><img src="/assets/metadata-in-siteleaf-color.png" alt="color"> </p>

<p>In our first example, we specify a metadata key <code>color</code> with the value <code>#c00</code>. Notice how Siteleaf displays the correct syntax of this metadata in the lower right. You’ll find these syntax helpers below every input field in Siteleaf’s UI.</p>

<pre><code class="html">&lt;style&gt;
    a {
        color: {{ meta.color }};
    }
&lt;/style&gt;
</code></pre>

<p>Then, inside the <code>&lt;head&gt;</code> tag of our default template, we create a <code>&lt;style&gt;</code> tag and set the base link color to our metadata value. The keyword <code>meta</code>, in this instance, references the metadata of the current page or post. When looping through posts, you can access each post’s metadata using <code>{{ post.meta.color }}</code>. If your metadata key isn’t a friendly variable name, you can access it with brackets: <code>{{ meta[&#39;my color&#39;] }}</code>.</p>

<p><em>Note — Siteleaf uses the shorter keyword <code>meta</code> when referencing metadata.</em></p>

<h3>Fallbacks</h3>

<p>Let’s say your website uses page-specific color, but not all pages call for their own color. In this case, you want the metadata to fall back to your brand color. To do this, we use the Siteleaf’s custom Liquid filter <code>fallback</code>. Now, when a page or post doesn’t have a <code>color</code> metadata, the value will fall back to one of the greatest colors in the entire spectrum.</p>

<pre><code class="html">&lt;style&gt;
    a {
        color: {{ meta.color | fallback: &#39;#007998&#39; }};
    }
&lt;/style&gt;
</code></pre>

<p><em>Note — Fallbacks work with any variable, not just metadata.</em></p>

<h3>Site metadata</h3>

<p>At the launch of Siteleaf, we only had metadata for pages and posts, but we recently added site metadata as well, taking the separation of content and code one step further. You can use site metadata to manage your website meta, like its description:</p>

<pre><code class="html">&lt;head&gt;
    &lt;meta name=&#39;description&#39; content=&#39;{{ site.meta.description }}&#39;&gt;
&lt;/head&gt;
</code></pre>

<p>Using our fallback example from before, you can use site metadata for the fallback value:</p>

<pre><code class="html">&lt;style&gt;
    a {
        color: {{ meta.color | fallback: site.meta.color }};
    }
&lt;/style&gt;
</code></pre>

<p>Site metadata is especially useful for cases where your website is tied to 3rd party services, like <a href="http://symbolset.com">Symbolset</a>, <a href="http://typekit.com">Typekit</a>, or <a href="http://google.com/analytics">Google Analytics</a>. Here are a few examples:</p>

<pre><code class="html">&lt;head&gt;
    &lt;link href=&quot;//cdn.symbolset.com/{{ site.meta.symbolset_id }}/symbolset.css&quot; rel=&quot;stylesheet&quot;&gt;
&lt;/head&gt;
</code></pre>

<pre><code class="html">&lt;script&gt;
    (function() {
        var config = {
            kitId: &#39;{{ site.meta.typekit_id }}&#39;,
            scriptTimeout: 3000
        };
    })();
&lt;/script&gt;
</code></pre>

<pre><code class="html">&lt;script&gt;
    var _gaq = _gaq || [];
    _gaq.push([&#39;_setAccount&#39;, &#39;{{ site.meta.analytics_id }}&#39;]);
    _gaq.push([&#39;_setDomainName&#39;, &#39;{{ site.domain }}&#39;]);
    _gaq.push([&#39;_trackPageview&#39;]);
&lt;/script&gt;
</code></pre>

<h3>Post count limit</h3>

<p>I’m not a fan of hard-coded values in my templates. With them, it would be an ordeal to change something as petty as the number of blog posts on my front page. Fortunately, we can use metadata, keeping these values in Siteleaf, where we can easily update them.</p>

<p><img src="/assets/metadata-in-siteleaf-limit.png" alt="limit"> </p>

<p>For any given page with posts, we simply set the metadata like before. Then, in the template, we set the <code>limit</code> property of the loop to the metadata of the page:</p>

<pre><code class="html">{% for post in posts limit: meta.limit.value %}
    &lt;article&gt;
        &lt;h3&gt;{{ post.title }}&lt;/h3&gt;
        {{ post.body }}
    &lt;/article&gt;
{% endfor %}
</code></pre>

<p><em>Note — we use the keyword <code>value</code> when referencing the metadata because filters, like <code>limit</code>, must be run on the value of the metadata, not the metadata instance itself. If you remove the <code>value</code> keyword, Liquid will throw an <code>undefined method</code> error.</em></p>

<h3>Social network links</h3>

<p>If you’re feeling adventureous, there are a number of tricks you can pull off using Liquid filters and metadata, like listing links to your various networks. There are two ways of going about this that would allow for a flexible, easy-to-update list.</p>

<p><img src="/assets/metadata-in-siteleaf-links-1.png" alt="links"> </p>

<p>The first method uses a comma-separated metadata value. In the template, we use the <code>assign</code> method along with the <code>split</code> filter to create a variable array of links. Notice that we use the <code>value</code> keyword like in the post count example.</p>

<pre><code class="html">{% assign links = meta.links.value | split: &#39;, &#39; %}
&lt;ul&gt;
    {% for link in links %}
        &lt;li&gt;
            &lt;a href=&quot;{{ link }}&quot;&gt;{{ link }}&lt;/a&gt;
        &lt;/li&gt;
    {% endfor %}
&lt;/ul&gt;
</code></pre>

<p>The second method allows you to extract the name of the network, but at the cost of gross code. This time, we create metadata for each link, but we prefix each key with a keyword, like ‘link_’.</p>

<p><img src="/assets/metadata-in-siteleaf-links-2.png" alt="links"> </p>

<p>Then, in our template, we loop through the metadata, splitting each key along the way. With a conditional, we check that the metadata is one of our links and if it is, we use the second value in our split key as the network name with our value as the URL. You can even use the capitalize filter if you’d like. I told you it would be gross. </p>

<pre><code class="html">&lt;ul&gt;
    {% for data in meta %}
        {% assign key = data.key | split: &#39;_&#39; %}
        {% if key[0] == &#39;link&#39; %}
            &lt;li&gt;&lt;a href=&quot;{{ data.value }}&quot;&gt;{{ key[1] | capitalize }}&lt;/a&gt;&lt;/li&gt;
        {% endif %}
    {% endfor %}
&lt;/ul&gt;
</code></pre>

<h3>Wrapping up</h3>

<p>I hope this article helped in backing up my claim that Siteleaf is a real contender for any website. You shouldn’t need to sacrifice anything when building static. Metadata will allow you to customize any aspect of your website. Be creative. Experiment a bit and see what else you can do. As always, feel free to <a href="http://twitter.com/siteleaf">reach out</a> if you have any questions.</p>

<p><small>This article was originally posted on destroytoday.com.</small></p>

    <p class="back"><a href="/blog">&larr; Back to Blog</a></p>
  
</article>

    
  </section>


  <footer class="layer">
    <section>
      <nav>
        <ul class="footer-nav">
          <li class="footer-nav-item"><a href="/help">Help</a>
          <li class="footer-nav-item"><a href="/help/themes">Documentation</a>
          <li class="footer-nav-item"><a href="/">Features</a>
          <li class="footer-nav-item"><a href="/purpose">Purpose</a>
          <li class="footer-nav-item"><a href="/privacy">Privacy</a>
          <li class="footer-nav-item"><a href="/terms">Terms</a>
          <li class="footer-nav-item"><a href="https://github.com/siteleaf/siteleaf-api" target="_blank">API</a>
          <li class="footer-nav-item"><a href="http://status.siteleaf.com" target="_blank">Status</a>
        </ul>
      </nav>
      <small class="footer-copy">&copy;2016 Siteleaf™ is made by <a href="http://oak.is">Oak</a>. Follow <a href="http://twitter.com/siteleaf">@siteleaf</a></small>
    </section>
  </footer>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
  <script src="/scripts/js/min/application.js"></script>
  
  <script src="/scripts/js/jquery.fitvids.js"></script>
  <script>
    $(document).ready(function(){
      $("section.blog").fitVids();
    });
  </script>

  <script src="//cdn.symbolset.com/fe53f0eec3a73760941acb609672ebdd0840fda7/symbolset.js"></script>
</body>
</html>